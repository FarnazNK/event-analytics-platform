# ⚠️ SECURITY WARNING ⚠️
# This is an EXAMPLE configuration file. DO NOT use these values in production!
# 
# Before deploying:
# 1. Generate a new SECRET_KEY: openssl rand -hex 32
# 2. Change all passwords to strong, unique values
# 3. Update database credentials
# 4. Set proper ALLOWED_ORIGINS
# 5. Configure Redis password
# 6. Never commit the actual .env file to git!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Event Analytics Platform
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=false

# =============================================================================
# SECURITY SETTINGS (⚠️ CHANGE ALL OF THESE IN PRODUCTION!)
# =============================================================================

# Generate with: openssl rand -hex 32
# CRITICAL: Must be changed in production!
SECRET_KEY=8ebd8880d9f6aa06e0b3b3227f7fa42695007c554cb91d617de915167f54b315

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Requirements
MIN_PASSWORD_LENGTH=12
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_NUMBERS=true
REQUIRE_SPECIAL_CHARS=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL (recommended for production)
DATABASE_URL=postgresql://postgres:Str0ng$Db2024!@localhost:5432/event_analytics

# Alternative: MySQL
# DATABASE_URL=mysql+pymysql://user:CHANGE_THIS_PASSWORD@localhost:3306/event_analytics

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Query Timeout (seconds)
DB_QUERY_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Redis Connection Pool
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Cache Settings
CACHE_TTL_SECONDS=300
CACHE_MAX_SIZE=10000
LOCAL_CACHE_SIZE=100

# =============================================================================
# API CONFIGURATION
# =============================================================================

API_V1_PREFIX=/api/v1
API_HOST=0.0.0.0
API_PORT=8000

# CORS Settings
ENABLE_CORS=true
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*
ALLOW_CREDENTIALS=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# Per-endpoint limits
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Per-user limits
USER_RATE_LIMIT_PER_MINUTE=100
USER_RATE_LIMIT_PER_HOUR=5000

# Admin endpoints (stricter limits)
ADMIN_RATE_LIMIT_PER_MINUTE=30

# =============================================================================
# SECURITY HEADERS
# =============================================================================

ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
ENABLE_CSP=true
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_REQUEST_LOGGING=true
ENABLE_SQL_LOGGING=false
LOG_FILE_PATH=/var/log/event-analytics/app.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Health Checks
HEALTH_CHECK_INTERVAL_SECONDS=30

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Request Limits
MAX_REQUEST_SIZE=10485760
MAX_UPLOAD_SIZE=52428800

# Timeouts
REQUEST_TIMEOUT_SECONDS=30
BACKGROUND_TASK_TIMEOUT=300

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# BACKGROUND TASKS
# =============================================================================

ENABLE_BACKGROUND_TASKS=true
TASK_QUEUE_SIZE=1000
MAX_WORKER_THREADS=10

# Cleanup Tasks
ENABLE_AUTO_CLEANUP=true
CLEANUP_INTERVAL_HOURS=24
DATA_RETENTION_DAYS=90

# =============================================================================
# MONITORING THRESHOLDS
# =============================================================================

# Memory Monitoring
MEMORY_WARNING_THRESHOLD_PERCENT=85
MEMORY_CRITICAL_THRESHOLD_PERCENT=95
MEMORY_CHECK_INTERVAL_SECONDS=15

# Cache Performance
CACHE_HIT_RATE_TARGET_PERCENT=80
CACHE_EVICTION_WARNING_RATE=100

# Database Performance
SLOW_QUERY_THRESHOLD_MS=1000

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Email (for notifications)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@example.com
SMTP_USE_TLS=true

# Sentry Error Tracking (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test Database
TEST_DATABASE_URL=postgresql://postgres:test123@localhost:5432/event_analytics_test

# Test Settings
TEST_RATE_LIMIT_ENABLED=false
TEST_CACHE_ENABLED=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================

ENABLE_ANALYTICS_API=true
ENABLE_ADMIN_API=true
ENABLE_AUDIT_LOGGING=true
ENABLE_CACHE_WARMING=true
ENABLE_INTEGRITY_CHECKS=true